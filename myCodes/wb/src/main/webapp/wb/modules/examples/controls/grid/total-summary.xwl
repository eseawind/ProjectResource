{"title":"分组合计总计","inframe":false,"hidden":false,"roles":{"demo":1},"pageLink":"","children":[{"configs":{"itemId":"module"},"children":[{"configs":{"layout":"fit","itemId":"viewport1"},"children":[{"configs":{"itemId":"grid1"},"children":[{"configs":{"itemId":"tbar"},"children":[{"configs":{"text":"切换分组","itemId":"toggleGroup"},"events":{"click":"var feature = app.grid1.view.findFeature('groupingsummary');\nif (feature.disabled)\n  feature.enable();\nelse\n  feature.disable();"},"children":[],"type":"item","expanded":false}],"type":"toolbar","expanded":true},{"configs":{"groupField":"DEPT_NAME","pageSize":"-1","itemId":"store","autoLoad":"true","url":"m?xwl=examples/controls/grid/data-source/select-employee"},"children":[],"type":"store","expanded":false},{"configs":{"itemId":"features"},"children":[{"configs":{"groupHeaderTpl":"{name}","ftype":"groupingsummary","itemId":"groupingsummary"},"children":[],"type":"feature","expanded":false},{"configs":{"itemId":"summary","ftype":"summary"},"children":[],"type":"feature","expanded":false}],"type":"array","expanded":true},{"configs":{"itemId":"columns"},"children":[{"configs":{"summaryRenderer":"return summaryData._featureObject instanceof Ext.grid.feature.Summary ? '总计：' : '合计：';","text":"姓名","width":"180","dataIndex":"REAL_NAME","itemId":"realNameCol","renderer":"var sex = record.get('SEX');\nreturn Wb.getIcon(record.get('SEX') == '2' ? 'user1_icon' : 'user_icon', sex) + value;"},"children":[],"type":"column","expanded":false},{"configs":{"summaryRenderer":"return Wb.format('共 {0} 人', value);","text":"性别","keyName":"sex","width":"80","dataIndex":"SEX","itemId":"sexCol","summaryType":"count"},"children":[],"type":"column","expanded":false},{"configs":{"summaryRenderer":"return '最年轻：' + Wb.dateToText(value);","text":"生日","width":"130","dataIndex":"BIRTH_DATE","itemId":"birthDateCol","summaryType":"max"},"children":[],"type":"column","expanded":false},{"configs":{"summaryRenderer":"return '平均时长： ' + Wb.format(value, '0.#');","text":"休假时长","align":"right","width":"110","dataIndex":"VACATION_HOURS","itemId":"vacationHoursCol","summaryType":"average"},"children":[],"type":"column","expanded":false},{"configs":{"summaryRenderer":"//该计算字段在后台模块dataProvider控件中定义\nreturn '平均天数：' + Wb.format(summaryData.VACATION_HOURS / 8, '0.0');","text":"计算字段（休假天数）","align":"right","width":"180","dataIndex":"VACATION_DAYS","format":"0.0","itemId":"vocationDaysCol"},"children":[],"type":"column","expanded":false}],"type":"array","expanded":true}],"type":"grid","expanded":true}],"type":"viewport","expanded":true}],"type":"module","expanded":true}],"iconCls":""}