{"inframe":false,"title":"弹出式菜单","hidden":false,"roles":{"demo":1},"children":[{"configs":{"itemId":"module"},"children":[{"configs":{"layout":"border","itemId":"viewport1"},"children":[{"configs":{"region":"north","height":"80","width":"512","layout":"absolute","itemId":"panel1"},"children":[{"configs":{"text":"请在面板或表格点击右键，系统将显示弹出式菜单。","height":"22","width":"328","itemId":"label1","y":"8","x":"16"},"children":[],"expanded":false,"type":"label"},{"configs":{"height":"22","width":"344","itemId":"text1","y":"40","x":"16"},"children":[],"expanded":false,"type":"text"},{"configs":{"text":"按钮","height":"22","width":"88","itemId":"button1","y":"40","x":"368"},"children":[],"expanded":false,"type":"button"},{"configs":{"height":"22","width":"80","isConfig":"true","normalName":"menu1","itemId":"popupMenu","y":"8","x":"368"},"children":[{"configs":{"text":"添加","itemId":"newBtn","iconCls":"record_add_icon"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"修改","itemId":"editBtn","iconCls":"record_edit_icon"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"删除","itemId":"delBtn","iconCls":"record_delete_icon"},"children":[],"expanded":false,"type":"item"}],"expanded":true,"type":"menu"}],"expanded":true,"type":"panel"},{"configs":{"region":"center","multiSelect":"true","itemId":"grid1"},"children":[{"configs":{"groupField":"TITLE","itemId":"store","autoLoad":"true","url":"m?xwl=examples/controls/grid/data-source/select-employee"},"children":[],"expanded":false,"type":"store"},{"configs":{"itemId":"columns"},"children":[{"configs":{"text":"姓名","width":"150","dataIndex":"REAL_NAME","itemId":"realNameCol","renderer":"var sex = record.get('SEX');\nreturn Wb.getIcon(record.get('SEX') == '2' ? 'user1_icon' : 'user_icon', sex) + value;"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"生日","dataIndex":"BIRTH_DATE","itemId":"birthDateCol"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"性别","keyName":"sex","width":"50","align":"center","lockable":"false","dataIndex":"SEX","titleAlign":"left","itemId":"sexCol"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"休假时长","align":"right","width":"110","dataIndex":"VACATION_HOURS","format":"#,##0","itemId":"vacationHoursCol"},"children":[],"expanded":false,"type":"column"}],"expanded":true,"type":"array"},{"configs":{"normalName":"menu2","itemId":"popupMenu"},"events":{"show":"var rows = app.grid1.getSelection();\napp.popupRow.setDisabled(rows.length != 1);\nmenu.selectRow = rows[0];"},"children":[{"configs":{"text":"当前对象信息","itemId":"popupComp","iconCls":"object_icon"},"events":{"click":"Wb.info(app.menu2.popupComp.itemId); //同一menu可以用于多个控件，popupComp指向使菜单弹出的控件"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"当前行信息","itemId":"popupRow","iconCls":"record_icon"},"events":{"click":"var rowData = app.menu2.selectRow.data; //selectRow在popupMenu的show事件中设置\nWb.info('选择：' + rowData.REAL_NAME);"},"children":[],"expanded":false,"type":"item"}],"expanded":true,"type":"menu"}],"expanded":true,"type":"grid"}],"expanded":true,"type":"viewport"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}