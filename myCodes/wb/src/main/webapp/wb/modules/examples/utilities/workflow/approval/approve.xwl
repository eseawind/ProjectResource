{"inframe":false,"title":"审批","hidden":false,"roles":{},"children":[{"configs":{"serverScript":"//同意时流程转向下一个节点。\n//退回时此例仅标注状态，实际业务中可把流程退回到某个节点由用户修改申请数据，或重新发起新的申请。\n//审批结果可另存到单独的表中以作为历史数据作进一步处理\nvar route, recs = Wb.decode(app.get('grid1')),\n  reject = app.getBool('reject'),\n  comment = app.get('comment');\nWb.each(recs, function(rec) {\n  route = Flow.create(rec.ROUTE_ID);\n  route.set('comment', comment);\n  //route.set('comment',route.get('comment')+'\\n'+comment);审批意见可视业务需要累积\n  if (reject) {\n    route.set('STATUS', '拒绝');\n    //route.to(node);可以根据业务需要把流程流转到某个节点\n  } else {\n    route.next(); //流转到下一个节点\n  }\n  route.commit();\n});","itemId":"module"},"children":[],"expanded":false,"type":"module"}],"pageLink":"","iconCls":""}